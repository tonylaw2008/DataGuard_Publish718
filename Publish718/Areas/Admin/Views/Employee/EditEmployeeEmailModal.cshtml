@using LanguageResource
@using DataGuard.Areas.Admin.Controllers
@model EditEmployeeEmailModel
@{
    ViewBag.Title = "地盤工人管理";
}

<div class="container-fluid">
    <!-- Info boxes -->
    <!-- /.row -->
    <div class="row center-block">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title"><i class="fas fa-user" style="color:forestgreen;font-weight:bold"></i>@Model.FullName 工人Email編輯 <span class="h5 bg-light-gradient pl-2" style="border:dashed;border-color:beige;border-width:thin">  &nbsp;</span></h5>
                    <a href="" name="reco"></a>
                    <div class="card-tools">
                        <button type="button" class="btn btn-tool" data-widget="collapse">
                            <i class="fa fa-minus"></i>
                        </button>
                    </div>
                </div>
                <!-- /.card-header -->
                <div class="card-body">
                    <div class="container pl-lg-5 pl-md-5  col-lg-offset-6 col-md-offset-6">
                        <div class="col-lg-5 col-md-5 col-sm-12  ">
                            <!--STEP1 BEGIN-->
                            @using (Ajax.BeginForm("EditEmployeeEmailModal", "Employee", new AjaxOptions { HttpMethod = "post", OnSuccess = "handleEditEmployeeEmailModal", OnBegin = "onBeginSubmit", OnFailure = "errEditEmployeeEmailModal", LoadingElementId = "Loading" }, new { @class = "form-horizontal", id = "form_EditEmployeeEmailModal" }))
                            { 
                                @Html.HiddenFor(c => c.FullName)
                                <div class="form-group  mb-2 col-10">
                                    <label class="control-label Lbl_EditEmployeeIdModal_EmployeeName" id="employeeName" for="EmployeeId">
                                        <label class="badge badge-secondary p-2"><i class="fas fa-user  text-white"></i>工人ID</label>
                                    </label>
                                    <div class="input-group">
                                        @Html.TextBoxFor(model => model.EmployeeId, new {  @class = "EditEmployeeIdModal_EmployeeId form-control form-control-sm col-8" })

                                    </div>
                                    @Html.ValidationMessageFor(model => model.EmployeeId, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group  mb-2 col-10">
                                    <label class="control-label" id="employeeName" for="SourceEmployeeId">
                                        <label class="badge  badge-secondary p-2"><i class="fas fa-email text-white"></i> 地盤工人舊Email</label>
                                    </label>
                                    <div class="input-group">
                                        @Html.TextBoxFor(model => model.Email, new { @class = "EditEmployeeIdModal_Email form-control form-control-sm col-8" })
                                    </div>
                                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                                </div>
                                <div class="form-group  mb-2 col-10">
                                    <label class="control-label" id="employeeName" for="SourceEmployeeId">
                                        <label class="badge  badge-secondary p-2"><i class="fas fa-email text-white"></i> 地盤工人新Email</label>
                                    </label>
                                    <div class="input-group">
                                        @Html.TextBoxFor(model => model.NewEmail, new { @class = "EditEmployeeIdModal_NewEmail form-control form-control-sm col-8" })
                                    </div>
                                </div>
                                <div class="form-group  mb-2 col-10">
                                    <label class="control-label" id="NewEmployeeId" for="SourceEmployeeId">
                                        <label class="badge  badge-secondary p-2"><i class="fas fa-email text-white"></i> 地盤工人新編號</label>
                                    </label>
                                    <div class="input-group">
                                        @Html.TextBoxFor(model => model.NewEmployeeId, new { @class = "EditEmployeeIdModal_NewEmployeeId form-control form-control-sm col-8" })
                                    </div>
                                </div>
                                <div class="form-group  mb-2 col-10">

                                    <div class="input-group">
                                        <input type="submit" class=" form-control form-control-sm col-8" value="Submit" />
                                    </div>
                                </div>
                             }
                            <!--STEP1 END-->
                        </div>
                    </div>
                </div>
                <!-- ./card-body -->
            </div>
            <!-- /.card -->
        </div>
        <!-- /.col -->
    </div>
</div><!--/. container-fluid -->
<!-- /.content -->

<script>

    function handleEditEmployeeEmailModal(data) {

        layer.closeAll();

        layer.open({
            title: 'Return'
            , content: data.meta.Message
            , btn: 'OK'
        });

    }
    function errEditEmployeeEmailModal(data) {

        layer.closeAll();
        console.log(data);
        layer.open({
            title: 'Return'
            , content: "MODIFIED SUCCESS!!!"
            , btn: 'OK'
        });

    }
</script>